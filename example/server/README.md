# server
Using the hairpc framework, you can easily implement rpc services in just a few simple steps.

## Define the interface file
Define the interface file, that is, the .proto file.
[protocol](https://github.com/shockerjue/gffg/blob/master/example/protocol/usernode.proto)

## Generate protocol
The corresponding protocol structure and interface can be generated by the following command.
```
protoc -I. --gofast_out=. --micro_out=.  xxx.proto
```

## Implementing the interface
If you need to provide a service, you need to implement the corresponding interface. In the rpc service, you need to implement the interface provided to the outside, that is, the service interface defined in the .proto file.
```
func (this *controller) CreateUser(ctx context.Context, req *protocol.CreateUserReq) (resp *protocol.CreateUserResp, err error) {

	return
}

func (this *controller) UserInfo(ctx context.Context, req *protocol.UserInfoReq) (resp *protocol.UserInfoResp, err error) {

	return
}
```

## Start service

```
// Define service objects based on configuration
svr := server.NewServer("./conf/gffg.xml")
defer svr.Release()

// Implemented interfaces
ctl := controller.Controller()
// Register the interface to the service
protocol.RegisterUserServiceHandler(svr, ctl)
// Start server for async
svr.Run(server.Bind("0.0.0.0"), server.Port(0))

// Waiting for the service to end
quit := make(chan os.Signal, 1)
signal.Notify(quit, syscall.SIGINT, syscall.SIGTERM)
<-quit
```
